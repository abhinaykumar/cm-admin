{"ast":null,"code":"var current_request = null;\n$(document).on('keyup', '.search-input', function (e) {\n  e.stopPropagation();\n  var url = window.location.pathname;\n  var search_val = $(this).val();\n  var filter_params = {};\n\n  if (search_val) {\n    filter_params['search'] = search_val;\n  } // TODO add page and sort params in the query_string\n\n\n  query_string = {\n    filters: filter_params\n  };\n  return current_request = $.ajax(url, {\n    type: 'GET',\n    data: query_string,\n    beforeSend: function () {\n      if (current_request !== null) {\n        current_request.abort();\n      }\n    },\n    success: function (data) {\n      var queryParam = jQuery.param(query_string);\n      window.history.pushState(\"\", \"\", url + '?' + queryParam);\n      $('.index-page__table-container').html(data);\n    },\n    error: function (jqxhr, textStatus, errorThrown) {\n      console.log(errorThrown, textStatus);\n    }\n  });\n});","map":{"version":3,"sources":["/Users/vidya/Documents/Projects/cm-admin/app/javascript/packs/cm_admin/filters.js"],"names":["current_request","$","document","on","e","stopPropagation","url","window","location","pathname","search_val","val","filter_params","query_string","filters","ajax","type","data","beforeSend","abort","success","queryParam","jQuery","param","history","pushState","html","error","jqxhr","textStatus","errorThrown","console","log"],"mappings":"AAAA,IAAIA,eAAe,GAAG,IAAtB;AAEAC,CAAC,CAACC,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,EAAwB,eAAxB,EAAyC,UAASC,CAAT,EAAY;AACnDA,EAAAA,CAAC,CAACC,eAAF;AACA,MAAIC,GAAG,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAA1B;AACA,MAAIC,UAAU,GAAGT,CAAC,CAAC,IAAD,CAAD,CAAQU,GAAR,EAAjB;AACA,MAAIC,aAAa,GAAG,EAApB;;AACA,MAAIF,UAAJ,EAAgB;AACdE,IAAAA,aAAa,CAAC,QAAD,CAAb,GAA0BF,UAA1B;AACD,GAPkD,CAQnD;;;AACAG,EAAAA,YAAY,GAAG;AACbC,IAAAA,OAAO,EAAEF;AADI,GAAf;AAGA,SAAOZ,eAAe,GAAGC,CAAC,CAACc,IAAF,CAAOT,GAAP,EAAY;AACnCU,IAAAA,IAAI,EAAE,KAD6B;AAEnCC,IAAAA,IAAI,EAAEJ,YAF6B;AAGnCK,IAAAA,UAAU,EAAE,YAAW;AACrB,UAAIlB,eAAe,KAAK,IAAxB,EAA8B;AAC5BA,QAAAA,eAAe,CAACmB,KAAhB;AACD;AACF,KAPkC;AAQnCC,IAAAA,OAAO,EAAE,UAASH,IAAT,EAAe;AACtB,UAAII,UAAU,GAAGC,MAAM,CAACC,KAAP,CAAaV,YAAb,CAAjB;AACAN,MAAAA,MAAM,CAACiB,OAAP,CAAeC,SAAf,CAAyB,EAAzB,EAA6B,EAA7B,EAAiCnB,GAAG,GAAG,GAAN,GAAYe,UAA7C;AACApB,MAAAA,CAAC,CAAC,8BAAD,CAAD,CAAkCyB,IAAlC,CAAuCT,IAAvC;AACD,KAZkC;AAanCU,IAAAA,KAAK,EAAE,UAASC,KAAT,EAAgBC,UAAhB,EAA4BC,WAA5B,EAAyC;AAC9CC,MAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ,EAAyBD,UAAzB;AACD;AAfkC,GAAZ,CAAzB;AAiBD,CA7BD","sourcesContent":["var current_request = null;\n\n$(document).on('keyup', '.search-input', function(e) {\n  e.stopPropagation();\n  var url = window.location.pathname\n  var search_val = $(this).val();\n  var filter_params = {};\n  if (search_val) {\n    filter_params['search'] = search_val\n  }\n  // TODO add page and sort params in the query_string\n  query_string = {\n    filters: filter_params\n  };\n  return current_request = $.ajax(url, {\n    type: 'GET',\n    data: query_string,\n    beforeSend: function() {\n      if (current_request !== null) {\n        current_request.abort();\n      }\n    },\n    success: function(data) {\n      var queryParam = jQuery.param(query_string)\n      window.history.pushState(\"\", \"\", url + '?' + queryParam);\n      $('.index-page__table-container').html(data);\n    },\n    error: function(jqxhr, textStatus, errorThrown) {\n      console.log(errorThrown, textStatus);\n    }\n  });\n});\n"]},"metadata":{},"sourceType":"module"}